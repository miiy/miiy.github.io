---
layout: post
title: "Docker"
date: 2016-06-12
category: docker
tags: docker
---

## Bookmarks

Docker: https://www.docker.com

Docker — 从入门到实践: https://www.gitbook.com/book/yeasy/docker_practice/details

Laradocker: https://github.com/laradock/laradock

Kubernetes: https://kubernetes.io

Kubernetes中文社区: https://www.kubernetes.org.cn

Docker部署WordPress LNMP(Nginx PHP MySQL)环境实践：https://www.cnblogs.com/centos-bz/p/6402119.html

使用 Docker 完成 MySQL 数据库主从配置：https://juejin.im/post/59fd71c25188254dfa1287a9

## Install

https://docs.docker.com/install/linux/docker-ce/centos/#install-using-the-repository

SET UP THE REPOSITORY

```bash
sudo yum install -y yum-utils \
  device-mapper-persistent-data \
  lvm2
sudo yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
```

INSTALL DOCKER CE

```bash
sudo yum install docker-ce docker-ce-cli containerd.io
```

Start Docker.

```bash
sudo systemctl start docker
```

Verify that Docker CE is installed correctly by running the hello-world image.

```bash
[root@localhost ~]# sudo docker run hello-world
Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world
1b930d010525: Pull complete
Digest: sha256:92695bc579f31df7a63da6922075d0666e565ceccad16b59c3374d2cf4e8e50e
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
```

```bash
# build
docker build -t nodedemo --build-arg DOCKER_NODE_VERSION=13 .
# start
docker run -v "$PWD":/data -p 8080:8080 nodedemo npm run dev
# sh
docker run -it --rm -v "$PWD":/data -p 8000:8000 -p 8080:8080 --network docker-php_frontend nodet sh
docker build -t nodet --no-cache --build-arg DOCKER_NODE_VERSION=13 .

docker run -d --name="openresty" -p 80:80 
-v /data/Gateway/etc/nginx/conf/nginx.conf:/usr/local/openresty/nginx/conf/nginx.conf:ro
-v /data/Gateway/Work/opt/local/openresty/conf.d:/etc/nginx/conf.d
-v /data/Gateway/data/opt/local/openresty/logs:/usr/local/openresty/nginx/logs
-v /data/Gateway/Work/opt/local/openresty/html:/etc/nginx/html
openresty/openresty:centos

```

